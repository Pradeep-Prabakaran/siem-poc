using 'main.bicep'

@description('Location for all resources')
param location = 'southeastasia'

@allowed(['poc','test','stage','prod'])
param environment = 'prod'

@description('Resource tags')
param tags = {
  environment: environment
  project: 'portfolio'
}

@description('Virtual Network name')
param vnetName = '${environment}-vnet'

@description('Application subnet name')
param appSubnetName = 'app-subnet'

@description('Private endpoint subnet name')
param privateEndpointSubnetName = 'pvt-subnet'

@description('Application NSG name')
param appNsgName = '${environment}-app-nsg'

@description('Bastion NSG name')
param bastionNsgName = '${environment}-bastion-nsg'

@description('Bastion name')
param bastionName = '${environment}-bastion'

@description('Bastion Public IP name')
param bastionPipName = '${environment}-bastion-pip'

@description('The name of the Key Vault')
param kvName = '${environment}-simpoc-kvault'

@description('Object ID of the user who needs admin access')
@secure()
param objectId = '72f0293e-1383-4fbb-b65c-7c0b04f677ec'

@description('Load Balancer name')
param loadBalancerName = '${environment}-loadbalancer'

@description('Log Analytics Workspace name')
param lawName = '${environment}-law'

param sshPublicKey = 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCyazWTVrenEnphKmMS6pUbtwQInA9wOElvwrAzTnlK6D1J4F6uWzxWy3jo4nfewhGqxTn87eqKAEo5JLbogycDcwEtPFT/IsN9pRG0EsQ16tJpVAaU0g+dzpCe4AGbFWGzACxH60jD3acXoUogzQOAsrfHPe2ukPTVQPX8utItmW6GfyENdKrjaNJlxaWIdtFZwOKZK/fyxcGhFDVnui8ba9Xt6mVCa0uaQN/9MDMieWbGlDaod2dDPQLdew/B8RAhyNmc//7I6VQlML32feYSGdR5UuY7HRvB8+sQcRNtiMrZkUSOE+250LRFMKTcSnhgujw6u7P7mS5+cA5/kakuvLwH2fK88wVJMt/dr2ttglbiMvlpOtDbkd9qWXMvA3zkg/ANLv2cAyr/woPup5tCp8ZVHmfrXrunixh4A6pFDHevh+pgYSDBhWysvozR9NEs2eQJrWemJowKtDhvtPdGyYhNzD6g/9bSVLZwh87b2QO0kmKom8jkaG3yyZ1e1mV5ip/OTAaNN8zE4x0ecfAkcsPt1wgeluBXeh6ZkJp7g8LU0BQe9H49nM+pplv/iYLbLdSSlWEFB5ch51CajlKD1Dj9tWqp+76IiHv2SATm4xGBry4pNX2FkxBfqxB02//2QbVsw1EdpqCOKkRKlBdTEM5dZ37w48GVPzJuTmRymw== prabakaranpradeep@outlook.com'

@description('Base64-encoded PEM ca_cert')
param ca_cert = 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNpVENDQWk2Z0F3SUJBZ0lVWFpQM01XYjhNS3dCRTFRYmF3c3Axc2ZBL1k0d0NnWUlLb1pJemowRUF3SXcKZ1k4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCRGJHOTFaRVpzWVhKbExDQkpibU11TVRnd05nWURWUVFMCkV5OURiRzkxWkVac1lYSmxJRTl5YVdkcGJpQlRVMHdnUlVORElFTmxjblJwWm1sallYUmxJRUYxZEdodmNtbDAKZVRBZUZ3MHhPVEE0TWpNeU1UQTRNREJhRncweU9UQTRNVFV4TnpBd01EQmFNSUdQTVFzd0NRWURWUVFHRXdKVgpVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVaCk1CY0dBMVVFQ2hNUVEyeHZkV1JHYkdGeVpTd2dTVzVqTGpFNE1EWUdBMVVFQ3hNdlEyeHZkV1JHYkdGeVpTQlAKY21sbmFXNGdVMU5NSUVWRFF5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt3V1RBVEJnY3Foa2pPUFFJQgpCZ2dxaGtqT1BRTUJCd05DQUFTUitzR0FMdWFHc2huVWJjeEtyeSswTEVYWjROWTZKVUF0U2VBNmc4N0szamFBCnhwSWc5RzUwUG9rcGZXa2hiYXJMZnBjWnUwVUFvWXkyc3UwRWhON3dvMll3WkRBT0JnTlZIUThCQWY4RUJBTUMKQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFqQWRCZ05WSFE0RUZnUVVoVEJkT3lwdzFPM1ZrbWNIL2VzNQp0Qm9PT0tjd0h3WURWUjBqQkJnd0ZvQVVoVEJkT3lwdzFPM1ZrbWNIL2VzNXRCb09PS2N3Q2dZSUtvWkl6ajBFCkF3SURTUUF3UmdJaEFLaWxmbnRQMklMR1pqd2Fqa3RrQnRYRTFwQjRZL2ZqQWZMa0lSVXpySTE1QWlFQTVVQ0wKWFlaWjltMmMzZkt3SWVuTU1vakwxZXF5ZHNncWovd0s0cDVrYWdRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=='

@description('Base64-encoded PEM origin_cert')
param origin_cert = 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV0RENDQTV5Z0F3SUJBZ0lVTUFHTXRDRXd2SXV6bmZCcnVUV3JNeU5GVlBrd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZc3hDekFKQmdOVkJBWVRBbFZUTVJrd0Z3WURWUVFLRXhCRGJHOTFaRVpzWVhKbExDQkpibU11TVRRdwpNZ1lEVlFRTEV5dERiRzkxWkVac1lYSmxJRTl5YVdkcGJpQlRVMHdnUTJWeWRHbG1hV05oZEdVZ1FYVjBhRzl5CmFYUjVNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGgKTUI0WERUSTFNRGd3TWpFNU1EQXdNRm9YRFRRd01EY3lPVEU1TURBd01Gb3dZakVaTUJjR0ExVUVDaE1RUTJ4dgpkV1JHYkdGeVpTd2dTVzVqTGpFZE1Cc0dBMVVFQ3hNVVEyeHZkV1JHYkdGeVpTQlBjbWxuYVc0Z1EwRXhKakFrCkJnTlZCQU1USFVOc2IzVmtSbXhoY21VZ1QzSnBaMmx1SUVObGNuUnBabWxqWVhSbE1JSUJJakFOQmdrcWhraUcKOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXRQK0RXOWFjUUsxSHRoNW4yZ21pNDBaOEpYalhrYjZscm9WdwpDbm1QUGVDNGo2NjRXU0RPLzYvTkc1MmMydDFwQTBPTmZyazlLamtnakFTRU1jZ3NqcWt1U0h4dEdpeS95R0FQCjVZQUNWb2lOUEFJaEFvZ0xZbytBODRjS2xWNWlPTUd6bGt0Zk1UQkpqMVhPSGp6U01PWmszVUdUemlaTklhUFAKRFM2QlJkcEtsT1NGQW1ITEYvS05LeEVoMGs1NEcwb1E0RXRBRkVxZDEzUm1LcVdSWTNybU9zbGV1N0ZaVW1jdApjblZXbjYvakk2b0xkUFRhZUM1cUM3UDZ4Uk81bWg3ZjlGcEcyaTEyVWpOd1NRZXAyZWZoU0tMYzU4TTd3ZSt0CmRiTEFOaitSUm0zc3JFV1F3UnRGMWlMLy82SlF6YXVUUUs3UUJXcENXOFpJZWRYNjlRSURBUUFCbzRJQk5qQ0MKQVRJd0RnWURWUjBQQVFIL0JBUURBZ1dnTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjRApBVEFNQmdOVkhSTUJBZjhFQWpBQU1CMEdBMVVkRGdRV0JCVFhoWjZaZWp4am1lY2tNVTdlSVBzL0FhYVhwekFmCkJnTlZIU01FR0RBV2dCUWs2Rk5YWFh3MFFJZXA2NVRidXVFV2VQd3BwREJBQmdnckJnRUZCUWNCQVFRME1ESXcKTUFZSUt3WUJCUVVITUFHR0pHaDBkSEE2THk5dlkzTndMbU5zYjNWa1pteGhjbVV1WTI5dEwyOXlhV2RwYmw5agpZVEEzQmdOVkhSRUVNREF1Z2hZcUxuQnlZV1JsWlhCd2NtRmlZV3RoY21GdUxtMWxnaFJ3Y21Ga1pXVndjSEpoClltRnJZWEpoYmk1dFpUQTRCZ05WSFI4RU1UQXZNQzJnSzZBcGhpZG9kSFJ3T2k4dlkzSnNMbU5zYjNWa1pteGgKY21VdVkyOXRMMjl5YVdkcGJsOWpZUzVqY213d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFGb2pLdU5yNm5Mdwpwbnh2WU83QSsyNEJHVml0Z1krYnlRb2JNMTNXMWt3dzNQU2lDNmp1alNlY3ZLZ2xYaUY4M0ljbzI5NEw5LzMvCnZZV0NWREhzeDhxZXBySDRWWk5MY2lRZ0t5Mm9xSmVDNyt4UzdFZmN5Zk9aK05pRUJvcFlEVU12KzVRNVp1Z3kKT0NGWjlIRFRacXV3VWpJMGcvT1BwTGpoZ2U5alJsdkFxeFBndDV6R0FQcmtsNzcveSsrU0M2b3ZZU3pCVHdzMApEZTVCRUF2K25VVVRnNzNoSW5wdTlRNGMxZnJWWjBxNDZtd0lqQVlsdk5scHhFa0QvdUZBVlYwSzNDT1p1OThFCnk3SHdiOWdWUWlHR2dYaTMxUE5UaldWQlA3WEVYa2hLbVJzaGdudG5WNDBIRGFhUWw3Qitia3BMR0grY1lnUFQKNkVINzZtWGE1SnM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K'

@description('Base64-encoded PEM cert key')
param origin_key = 'LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQzAvNE5iMXB4QXJVZTIKSG1mYUNhTGpSbndsZU5lUnZxV3VoWEFLZVk4OTRMaVBycmhaSU03L3I4MGJuWnphM1drRFE0MSt1VDBxT1NDTQpCSVF4eUN5T3FTNUlmRzBhTEwvSVlBL2xnQUpXaUkwOEFpRUNpQXRpajREemh3cVZYbUk0d2JPV1MxOHhNRW1QClZjNGVQTkl3NW1UZFFaUE9KazBobzg4TkxvRkYya3FVNUlVQ1ljc1g4bzByRVNIU1RuZ2JTaERnUzBBVVNwM1gKZEdZcXBaRmpldVk2eVY2N3NWbFNaeTF5ZFZhZnIrTWpxZ3QwOU5wNExtb0xzL3JGRTdtYUh0LzBXa2JhTFhaUwpNM0JKQjZuWjUrRklvdHpud3p2Qjc2MTFzc0EyUDVGR2JleXNSWkRCRzBYV0l2Ly9vbEROcTVOQXJ0QUZha0piCnhraDUxZnIxQWdNQkFBRUNnZ0VBQ0dLY0FjOEgrY3ZDcE9mS0NqcGtaRXR1MDBlWUU3cjFoRjBraXlwYTNmN1cKczJWZ24xUnduVHpXUk9vV05iZUlqQlpVUWFPRm9nLzN6Tjk2c1FSajRyb1RiYTFDQlYwL0IwMUNxZkJoRmdRegowdGRnYUhSeXMrbGxDODNjOU5Ma3ZGb1E5QUlLNTNCT3dCMWdDVnVVKzBuNU1KenArRG9qQnZvYjkxd3pzS1RhClo3dHBpSFB0bFVmVUdHUmNjYVlZQVZXUG1JdXZ6emt3ZUtsWlBBMHd3VjNra1J0eEJSQWY0RXhvV1lXcU8wS0MKUkltTDk3RzNJUEpwcENoQU9udmFHQXE2R1FlNzdpaTI2ejJHRTRmNFVTRTBqaVh6UEhMNHR4NElWWFU3OERiawpMVHhjMHhjTHhPSlJJNUtKVjZBMlMwNVpRa2hEUVp1S3lra1ovT1pVVXdLQmdRRHZlZnp1aEM2Q0FkelR1NTBnCmluMTI5STlxTUtlMEFIMVdvaGo0Zko4ODJlVElYMElmK2tZY0p1aWlEUXFzd3RiQVhOSGxyRTJDS3R1VHNmRVgKKzNHKzRXYTJ1eGlpL2NqK0NnOUVhRlFCVjI5V3lXZ1BZRGdZZnVDR1BzUHNlNUNkRmpwVUozRHFhdEtwcjY5ZQpKVVI1cFY0cXBzMFArZmJCTUJkK1E5T2lVd0tCZ1FEQmZKWkl1TmlTVTNKbUoyVGVzaHZTblUwV1Z6a05uQkp4Cmx4aDJKZU12dHRvZnJ6UjkwdnllMExla2c3TUFBME1wZGtSaHhOdXFGdnBXM3lqYzJnTHpoWHZnYzFuUWNnZFMKUHFIanBFVlVFbTBMVk5pUnhYaUVtU2RsL1VFa29yV3FqZzZUV2ZkcUN0ZEZxaHlZcWE3Y2xJMmNReUhNdEFSKworcGRsb29wVWx3S0JnRm05ZmdJbnVJSHhqcjR0alVrM2ZLTEtMTUFmY1lqcnNneDMvQ0dLR2VZa3hTNHRQRXRkCmIwNTNhaS9uOFRzaVhIV0Rrd2lkVkFKV2F5aGl3elU0ZmJ5SkhRT1hBemw1SHd2TDIwTElVY3FhNkZjK2JHZHUKcURiTnZQZXhwNXdFQmdKSDVSM0tGZTlTanBVV0NBS2d0cE5iVy9saHZuQ2hQRTNTNXNyalFmaVBBb0dBZGVnMwpLSy9FQWo5cHlraWRWbndSS21LRE5HY0l0SHQwWGRZbXFQRGpwaEwyanpKVWVZeVdOeTJYaTJCYU4xckZsY0dsCllETDNiWW85R2EwNkdJT2VJc29vT0JuekZHdzRlKzBBK0ZrRmluc0VDbEMwL1BmcVBsdWFQN041L0JwUFBGVC8KR3RwTFJFckE3b29BalNOeUZLZE9PSGhNWTVNYjNrbFU4ekYrdkpjQ2dZQnFUY1pXNldKeFJHR2RZc0VnNHBuSgpkZ28zTStSTFhMOVRLZjA1TnEvSUtNczdSdHFlSExBU3NFYUVCejJ0SDhCZ1VEVVM3azdwSlNzMjFWOC9Wc2ZECk8zUVdqblpjMmlWOUMvYWhqbW5KV0RHSHdmb2FseEJha2U4NXNzQVcrVHIxcGhndGkvN3EzUTYrU2dFRlhXb1QKVUNQRXdteHl0RjF2UUlxTEJkc1hPQT09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0='

param dcrName = '${environment}-dcr'

param vmssName = '${environment}-vmss'

param natGatewayName = '${environment}-nat-gateway'

param natGatewayPipName = '${environment}-nat-gateway-pip'

param warningAlertEmails = ['prabakaranpradeep@outlook.com']
